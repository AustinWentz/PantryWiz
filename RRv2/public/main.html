<div class="clearfix">
  <form ng-Submit="search()">
    <h4 ng-show="authenticated">{{current_user}} has</h4>
    <h4 ng-hide="authenticated">You have</h4>
    <input required class="form-control" maxlength="200" rows="1" placeholder="Search" ng-model="newRecipe.name" ng-change="autocompleteQuery()" />
    <input class="btn submit-btn pull-right" type="submit" value="Search" />
  </form>

  <table ng-table="vm.tableParams" class="table" show-filter="true">
    <tr ng-repeat="suggestion in suggestions">
        <td ng-click="autocomplete(suggestion)">
            {{suggestion}}</td>
    </tr>
  </table>
</div>

<!--<div id="post-stream" ng-show="searched">
	<h4>Recipes</h4>
		<div class="post" ng-repeat="recipe in recipes" ng-class-odd="'odd'" ng-class-even="'even'">
			<p>{{recipe.name}}</p>
			<small>Posted by @{{recipe.link}}</small>
			<small class="pull-right">{{recipe.thumbnail}}</small>
		</div>
</div>-->

<br>

<div class="center">
  <div class="row">
      <div class="col-md-3" ng-repeat = "recipe in recipes | orderBy: '-ratio'">
        <div class="thumbnail">
			<img ng-src="{{recipe.image}}" class="md-card-image" alt="user avatar">
			<div class="caption">
	            <h4>{{recipe.label}}</h4>
                    <div ng-show="expanded[$index]">
                      <p><b>Required:</b></p>
                      <table style="border:2px solid black; border-spacing: 2px;">
                          <tr "border:2px solid black; border-spacing: 2px;">
                              <th style="border:2px solid black; border-spacing: 5px;">Ingredient</th>
                              <th style="border:2px solid black; border-spacing: 5px;">Required</th>
                              <th style="border:2px solid black; border-spacing: 5px;">Left</th>
                          </tr>
                          <tr ng-repeat = "ingredient in recipe.full " style="border:2px solid black; border-spacing: 2px;">
                              <td style="border:2px solid black; border-spacing: 5px;">{{ingredient.name}}</td>
                              <td style="border:2px solid black; border-spacing: 5px;">{{ingredient.req}} {{ingredient.unit}}</td>
                              <td style="border:2px solid black; border-spacing: 5px;">{{ingredient.surplus}} {{ingredient.unit}}</td>
                          </tr>
                      </table>
                      <br><br><b>Could not parse:</b>
                      <div ng-repeat = "other in recipe.other">
                          {{other}}
                      </div>
                      <a ng-href="{{recipe.url}}" class="btn card-btn">Go to Website</a>
                    </div>
	            <!--
              <a ng-href="{{recipe.url}}" class="btn card-btn">View</a>
	            <input ng-click = "saveRecipe(recipe.label)" class="btn card-btn" type="submit" value="Save" />
              -->
              <input ng-click="addToShoppingList(recipe)" class="btn card-btn" type="submit" value="Add to List" />
              <input ng-click = "saveRecipe(recipe.label)" class="btn card-btn" type="submit" value="Save" />
          </div>
          <input ng-click="expandRecipe($index)" class="btn card-btn" type="submit" value="View" />
        </div>
      </div>
    </div>
  </div>
</div>
