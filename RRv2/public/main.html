<div id = "beforeSearchContent">
<div id="feedback-main">
  <div class="bontainer">  
  <form id="contact" action="" method="post">
   <button class = "contactClose" ng-click = "toggleVisibility()">&times;</button>
    <h3>Quick Contact</h3>
    <h4>Contact us today, and get reply with in 24 hours!</h4>
    <fieldset>
      <input placeholder="Your name" type="text" tabindex="1" required autofocus ng-model="feedback.name">
    </fieldset>
    <fieldset>
      <input placeholder="Your Email Address" type="email" tabindex="2" required ng-model="feedback.email">
    </fieldset>
    <fieldset>
      <textarea placeholder="Type your Message Here...." tabindex="5" required ng-model="feedback.message"></textarea>
    </fieldset>
    <fieldset>
      <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" ng-click="sendFeedback(feedback)">Submit</button>
    </fieldset>
  </form> 
</div>
  </div>
<div class="clearfix" id = "mainPage">
  <form ng-Submit="search()">
    <!--<h4 ng-show="authenticated">{{current_user}} has</h4>
    <h4 ng-hide="authenticated">You have</h4>-->

    <h3>Find a recipe.</h3>
    <h4>Use ingredients you already have.</h4>
    <input required class="form-control" maxlength="200" rows="1" placeholder="Search" ng-model="newRecipe.name" ng-change="autocompleteQuery()" />
    <input class="btn submit-btn pull-right" type="submit" value="+" />
  </form>


  <ul class="tags">
  <table>
    <tr ng-repeat = "row in ingredientTags">
       <td ng-repeat = "item in row">
          <li><a href="#" class="tag">{{item}}</a></li>
      </td>
    </tr>
    <td><input class="btn submit-btn btn-search" type="submit" value="Search" ng-show = "isNotEmpty"/></td>
  </table>
</ul>


  <table ng-table="vm.tableParams" class="table" show-filter="true">
    <tr ng-repeat="suggestion in suggestions">
        <td ng-click="autocomplete(suggestion)">
            {{suggestion}}</td>
    </tr>
  </table>
  <button id="popup" class="feedback-button" ng-click="toggleVisibility()">Feedback</button>
</div>
</div>
<style>
    .redSquare {
        background-color: #ff3333;
    }
    .greenSquare {
        background-color: #99ff66;
    }
</style>

<!--<div id="post-stream" ng-show="searched">
	<h4>Recipes</h4>
		<div class="post" ng-repeat="recipe in recipes" ng-class-odd="'odd'" ng-class-even="'even'">
			<p>{{recipe.name}}</p>
			<small>Posted by @{{recipe.link}}</small>
			<small class="pull-right">{{recipe.thumbnail}}</small>
		</div>
</div>-->

<br>

<div class="center">
  <div class="row">
      <div class="col-md-3" ng-repeat = "recipe in recipes | orderBy: '-ratio'">
        <div class="thumbnail">
			<img ng-src="{{recipe.image}}" class="md-card-image" alt="user avatar">
			<div class="caption">
	            <h4>{{recipe.label}} - {{recipe.ratio * 100}}%</h4>
                    <div ng-show="expanded[$index]">
                      <p><b>Required:</b></p>
                      <table style="border:2px solid black; border-spacing: 2px;">
                          <tr "border:2px solid black; border-spacing: 2px;">
                              <th style="border:2px solid black; border-spacing: 5px;">Ingredient</th>
                              <th style="border:2px solid black; border-spacing: 5px;">Required</th>
                              <th style="border:2px solid black; border-spacing: 5px;">Left</th>
                          </tr>
                          <tr ng-repeat = "ingredient in recipe.full " style="border:2px solid black; border-spacing: 2px;">
                              <td style="border:2px solid black; border-spacing: 5px;">{{ingredient.name}}</td>
                              <td style="border:2px solid black; border-spacing: 5px;">{{ingredient.req}} {{ingredient.unit}}
                                <input ng-click="addToShoppingList(ingredient)" class="btn card-btn" type="submit" value="Add" />
                              </td>
                              <td ng-class="{true:'redSquare',false:'greenSquare'}[ingredient.isRed]" style="border:2px solid black; border-spacing: 5px;">{{ingredient.surplus}} {{ingredient.unit}}</td>
                          </tr>
                      </table>
                      <br><br><b>Could not parse:</b>
                      <div ng-repeat = "other in recipe.other">
                          {{other}}
                      </div>
                      <a ng-href="{{recipe.url}}" class="btn card-btn">Go to Website</a>
                    </div>
	            <!--
              <a ng-href="{{recipe.url}}" class="btn card-btn">View</a>
	            <input ng-click = "saveRecipe(recipe.label)" class="btn card-btn" type="submit" value="Save" />
              -->
              <input ng-click="addAllToShoppingList(recipe)" class="btn card-btn" type="submit" value="Add to List" />
              <input ng-click = "saveRecipe(recipe.label)" class="btn card-btn" type="submit" value="Save" />
          </div>
          <input ng-click="expandRecipe($index)" class="btn card-btn" type="submit" value="View" />
        </div>
      </div>
    </div>
  </div>
</div>
</div>
